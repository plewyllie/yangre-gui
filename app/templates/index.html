<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}

<div class=container>
  <div class="input-group">
    <span class="input-group-addon" id="basic-addon1">Pattern</span>
    <input id="patterntextbox" type="text" class="form-control" placeholder="Example: [0-9a-fA-F]*" aria-describedby="basic-addon1">
  </div>
  <div class="form-group">
    <label for="comment">Test string:</label>
    <textarea id="teststringtextbox" style="background-color:#dff0d8" class="form-control" rows="5" id="teststring"></textarea>
  </div>
</div>


<script>
$('#patterntextbox, #teststringtextbox').on('input', function() {
    $.ajax({
      type: "POST",
      url: "/yangre",
      data: {
          pattern: $('#patterntextbox').val(),
          content: $('#teststringtextbox').val()
      },
      success: function(data) {
            if (data.result == 0) {
                $('#teststringtextbox').css("background-color", "#dff0d8")
            } else if (data.result == 1) {
                $('#teststringtextbox').css("background-color", "#f9f2f4")
            } else {
                $('#teststringtextbox').css("background-color", "#f0ad4e")
            }
      },
      error:   function(jqXHR, textStatus, errorThrown) {
            alert("Error, status = " + textStatus + ", " +
                  "error thrown: " + errorThrown
            );
      }
    });
});
</script>

{% endblock %}

<!--

RED background: #f9f2f4
GREEN background: #dff0d8

  -->
